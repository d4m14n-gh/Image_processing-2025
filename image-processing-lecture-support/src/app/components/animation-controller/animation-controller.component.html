<div style="display: flex; align-items: center; gap: 0px">

    <button mat-icon-button matTooltip="First Frame" (click)="stepFirst()">
        <mat-icon>first_page</mat-icon>
    </button>
    
    <button mat-icon-button matTooltip="Previous Frame" (click)="stepBackward()">
        <mat-icon>skip_previous</mat-icon>
    </button>
    
    <button mat-icon-button color="primary" matTooltip="Play / Pause" (click)="togglePlay()">
        <mat-icon>{{ playing ? 'pause' : 'play_arrow' }}</mat-icon>
    </button>
    
    <button mat-icon-button matTooltip="Next Frame" (click)="stepForward()">
        <mat-icon>skip_next</mat-icon>
    </button>
     
        <button mat-icon-button matTooltip="Last Frame" (click)="stepLast()">
        <mat-icon>last_page</mat-icon>
    </button>


    <button mat-icon-button [matMenuTriggerFor]="menu">
        <mat-icon>speed</mat-icon>
    </button>

    <mat-menu #menu [hasBackdrop]="true">
        <div class="flex-row" style="color: var(--mat-sys-on-surface); align-items: center; padding: 0 10px;" (click)="$event.stopPropagation()">

            <button mat-flat-button (click)="$event.stopPropagation();speedDown()" [disabled]="speed <= minSpeed()">
                <mat-icon style="margin: 0;">
                    keyboard_double_arrow_left
                </mat-icon>
            </button>
            <div style="user-select: none; width: 4ch; text-align: center;">
                {{speed}}x
            </div>
            <button mat-flat-button (click)="$event.stopPropagation();speedUp()" [disabled]="speed >= maxSpeed()">
                <mat-icon style="margin: 0;">
                    keyboard_double_arrow_right
                </mat-icon>
            </button>

        </div>
    </mat-menu>


    <button mat-icon-button [color]="loop ? 'accent' : ''" matTooltip="Loop" (click)="toggleLoop()">
        <mat-icon>{{ loop ? 'repeat_on' : 'repeat' }}</mat-icon>
    </button>

    @if(showValue()){
        <div style="padding: 5px; margin: 0; width: 3ch; border: var(--default-border); border-radius: 5px; text-align: center;">
            {{value}}
        </div>
    }
    
    <div
    style="flex: 1;"
    >

    <mat-slider
        style="width: calc(100% - 50px); margin: 0 25px;"
        [max]="max()"
        [min]="min()"
        [step]="step()"
        [discrete]="showValue()"
        >
            <input matSliderThumb
                [(ngModel)]="value"
            >
        </mat-slider>
    </div>
</div>