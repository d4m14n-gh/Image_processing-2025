<mat-dialog-content style="min-height: 650px; height: 650px; padding: 0; user-select: none;">

    <div class="flex-col"
        style="padding: 20px; width: 100%; height: 100%; box-sizing: border-box; align-items: center;">
        <header class="flex-row" style="align-items: center; gap: 10px;">
            <mat-icon>
                grid_on
            </mat-icon>
            <h3>Enter Kernel Values</h3>
        </header>

        <!-- <div class="flex-row" style="align-items: center; border: var(--default-border); border-radius: 10px;"> -->
            <div class="flex-row topbar" style="margin-bottom: 15px;">
                <mat-form-field class="slim-form-field" appearance="outline" subscriptSizing="dynamic">
                    <mat-select [(ngModel)]="size">
                        <mat-option [value]="3">3x3 Kernel</mat-option>
                        <mat-option [value]="5">5x5 Kernel</mat-option>
                        <mat-option [value]="7">7x7 Kernel</mat-option>
                    </mat-select>
                </mat-form-field>
                <div class="slim-divider"></div>
                <div class="divider"></div>
                <div class="slim-divider"></div>
                <button mat-flat-button style="background-color: var(--mat-sys-tertiary); color: var(--mat-sys-on-primary) !important;"  [matMenuTriggerFor]="matmenu">
                    <!-- <mat-icon>grid_on</mat-icon> -->
                    Presets
                </button>
                <mat-menu #matmenu="matMenu">
                    @if (size === 3) {
                    <button mat-menu-item (click)="setKernel(kernelType.Identity3x3)">Identity</button>
                    <button mat-menu-item (click)="setKernel(kernelType.Sharpen3x3)">Sharpen</button>
                    <button mat-menu-item (click)="setKernel(kernelType.EdgeDetect3x3)">Edge Detect</button>
                    <button mat-menu-item (click)="setKernel(kernelType.BoxBlur3x3)">Box Blur</button>
                    <button mat-menu-item (click)="setKernel(kernelType.GaussianBlur3x3)">Gaussian Blur</button>
                    <button mat-menu-item (click)="setKernel(kernelType.Sobel3x3)">Sobel</button>
                    <button mat-menu-item (click)="setKernel(kernelType.Prewitt3x3)">Prewitt</button>
                    <button mat-menu-item (click)="setKernel(kernelType.Laplacian3x3)">Laplacian</button>
                    }
                    @if (size === 5) {
                    <button mat-menu-item (click)="setKernel(kernelType.BoxBlur5x5)">Box Blur</button>
                    <button mat-menu-item (click)="setKernel(kernelType.GaussianBlur5x5)">Gaussian Blur</button>
                    <button mat-menu-item (click)="setKernel(kernelType.Sharpen5x5)">Sharpen</button>
                
                    }
                    @if (size === 7) {
                    <button mat-menu-item (click)="setKernel(kernelType.BoxBlur7x7)">Box Blur</button>
                    <button mat-menu-item (click)="setKernel(kernelType.GaussianBlur7x7)">Gaussian Blur</button>
                    <button mat-menu-item (click)="setKernel(kernelType.Sharpen7x7)">Sharpen</button>
                    }
                </mat-menu>
            </div>
            
           
        <!-- </div> -->

        <div class="flex-col" style="margin: auto; width: fit-content; gap: 5px;">
            @for (row of kernel.kernel; track $index; let i=$index) {
            <div class="flex-row" style="gap: 5px">
                @for (value of row; track $index; let j=$index) {
                <!-- <mat-form-field class="example-full-width" appearance="outline" style="width: 50px; height: 50px;"> -->
                <input class="kernel-cell" type="number" [(ngModel)]="kernel.kernel[j][i]" style="text-align: center;"
                    step="1">
                <!-- </mat-form-field> -->
                }
            </div>
            }
        </div>

    </div>
</mat-dialog-content>

<mat-dialog-actions class="flex-row" style="align-items: center;">
    <mat-form-field class="example-full-width slim-form-field" appearance="outline" subscriptSizing="dynamic">
        <mat-label>Divider</mat-label>
        <input matInput type="number" placeholder="Ex. 9" [(ngModel)]="kernel.divider" step="1">
    </mat-form-field>
    <span style="flex: 1"></span>
    <button mat-flat-button (click)="close()" style="background-color: var(--mat-sys-neutral); color: var(--mat-sys-on-primary);">
        <mat-icon>cancel</mat-icon>
        Cancel
    </button>
    <button mat-flat-button style="background-color: var(--mat-sys-tertiary)" (click)="submit()">
        <mat-icon>save</mat-icon>
        OK
    </button>


</mat-dialog-actions>